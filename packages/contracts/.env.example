# This file can be imported into makefiles or shells to set deployment variables.

export RPC_LOCAL=http://localhost:8545
export RPC_TEST=https://happy-testnet-sepolia.rpc.caldera.xyz/http
export RPC_MAIN=https://eth.llamarpc.com

####################################################################################################
#  APIs
####################################################################################################

# Automatically picked up by Foundry when deploying to verify contracts.
ETHERSCAN_API_KEY=<your-etherscan-api-key>

# Whether to automatically verify the contracts.
VERIFY_LOCAL=false
VERIFY_TEST=true
VERIFY_MAIN=true

# Verifier configuration for each environment
VERIFIER_FLAG_LOCAL=
VERIFIER_FLAG_TEST=--verifier blockscout
VERIFIER_FLAG_MAIN=

VERIFIER_URL_LOCAL=
VERIFIER_URL_TEST=--verifier-url https://happy-testnet-sepolia.explorer.caldera.xyz/api
VERIFIER_URL_MAIN=

####################################################################################################
# Private Keys
####################################################################################################

# (Using test account 0 private key - safe to make public.)

export PRIVATE_KEY_LOCAL=0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80

# Don't use these!!! Use Foundry's account feature (see below), which avoids writing down private
# keys, avoiding all risk of them leaking.

# export PRIVATE_KEY_TEST=0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80
# export PRIVATE_KEY_MAIN=0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80

####################################################################################################
# Foundry Accounts
####################################################################################################

# Foundry accounts avoid having private keys sitting in plaintext on your machine.

# To enable Foundry Accounts, set this variable to true:
export USE_FOUNDRY_ACCOUNT=true

export ACCOUNT_LOCAL=test-account-0
export ACCOUNT_TEST=happychain-test
export ACCOUNT_MAIN=happychain-main

export PASSFILE_LOCAL=.password.local
export PASSFILE_TEST=.password.test
export PASSFILE_MAIN=.password.main

# To use this: run
#   cast wallet import test-account-0 --interactive
# Then copy your key in, set a password (don't reuse), and save the password in .password.local.

####################################################################################################
#  Ports
####################################################################################################

# Ports used for local development
export ANVIL_PORT=8545
export BUNDLER_PORT=3000

####################################################################################################
#  Allowed Bundlers Configuration
####################################################################################################

# List of allowed bundlers for local and test environments. MUST be the same as the ones used in Alto's configs.
# Addresses are comma-separated and are used when deploying the HappyPaymaster.
#
# For Local deployments: Anvil creates 10 accounts (0-9) by default. We use them as follows:
# - Accounts 0-4: Reserved for general testing and other purposes.
# - Account 5 (0x9965507D...): Used as utility-private-key.
# - Accounts 6-9: Used as executor-private-keys
#   - Account 6 (0x976EA740...): Executor #1
#   - Account 7 (0x14dC7996...): Executor #2
#   - Account 8 (0x23618e81...): Executor #3
#   - Account 9 (0xa0Ee7A14...): Executor #4

export ALLOWED_BUNDLERS_LOCAL=0x9965507D1a55bcC2695C58ba16FB37d819B0A4dc,0x976EA74026E726554dB657fA54763abd0C3a0aa9,0x14dC79964da2C08b23698B3D3cc7Ca32193d9955,0x23618e81E3f5cdF7f54C3d65f7FBc0aBf5B21E8f,0xa0Ee7A142d267C1f36714E4a8F75612F20a79720
export ALLOWED_BUNDLERS_TEST=0x14dC79964da2C08b23698B3D3cc7Ca32193d9955,0x23618e81E3f5cdF7f54C3d65f7FBc0aBf5B21E8f

# Used in scripts/account_abstraction_demo.ts
export BUNDLER_LOCAL=http://127.0.0.1:3000